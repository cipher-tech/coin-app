{"version":3,"sources":["images/amazon-cardCrop.png","pages/admin/verify/verify.jsx"],"names":["module","exports","Container","styled","div","props","theme","colorLight","colorPrimary","colorSecondary","didUpload","colorSecondaryDark","font","xlarge","connect","user","users","useState","image","setImage","image1","setImage1","image2","setImage2","isLoading","setIsLoading","setDidUpload","showpopUpMessage","setShowPopUpMessage","popUpMessage","setPopUpMessage","error","setError","handleChange","e","files","target","dataTransfer","length","createImage","name","file","reader","FileReader","onload","result","readAsDataURL","handleSubmit","a","auth_token","Storage","get","FormData","append","data","id","selfi","address","idCard","Axios","post","routes","api","requestVerification","then","res","status","setTimeout","history","push","admin","index","catch","onClick","className","src","giftCard","alt","type","onChange","placeholder","height","width"],"mappings":"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","file":"static/js/11.ac25a74c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/amazon-cardCrop.272d48ed.png\";","import React from 'react'\r\nimport styled from 'styled-components'\r\n// import rateImage from \"../../../images/sellGiftcard.png\"\r\nimport giftCard from \"../../../images/amazon-cardCrop.png\"\r\nimport { useState } from 'react';\r\nimport Axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport routes from '../../../navigation/routes';\r\nimport { PopUpMessage, Storage } from '../../../components';\r\n\r\nconst Container = styled.div`\r\n    grid-column: 2/-1;\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    min-height: 100%;\r\n    min-width: 100%;\r\n    place-items: center;\r\n    background: ${props => props.theme.colorLight};\r\n    border-radius: 2rem 0 0 2rem;\r\n    z-index: 30;\r\n    position: relative;\r\n    .rate{\r\n        grid-column: 1/-1;\r\n        width: clamp(100%, 100vw, 65vw);\r\n        padding: .1rem;\r\n        height: 100%;\r\n        margin: 12rem .3rem 1rem  ;\r\n        max-width: 70rem;\r\n        img{\r\n            height: 100%;\r\n            /* width: 100%;         */\r\n        }\r\n        \r\n        .form{\r\n            display: grid;\r\n            /* width: clamp(40vw, 20vw, 45vw); */\r\n            /* border: 1px solid red; */\r\n            justify-items: center;\r\n            color: ${props => props.theme.colorPrimary};\r\n            margin: 2rem;\r\n            padding: 2rem 3rem;\r\n            box-shadow: .2rem .4rem 10px rgba(0,0,0, .3),\r\n            -0.2rem -0.4rem 20px rgba(255,255,255, .3);\r\n\r\n            &__title{\r\n                color: ${props => props.theme.colorSecondary};\r\n                padding: .2rem 2rem;\r\n            }\r\n            &__subTitle{\r\n                opacity: .6;\r\n                padding-bottom: 2rem;\r\n            }\r\n            &__title-image{\r\n                width: 25rem;\r\n                object-fit: cover;\r\n                \r\n                &-icon{\r\n                    height: 100%;\r\n                    width: 100%;        \r\n                }\r\n            }\r\n            &__message{\r\n                color: ${props => props.didUpload ? \"green\" : \"red\"};\r\n            }\r\n            &__input{\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-content: center;\r\n                justify-content: center;\r\n                width: 100%;\r\n                text-align: center;\r\n                &-item{\r\n                    background: transparent;\r\n                    margin: 2rem;\r\n                    border: none;\r\n                    padding: 1rem;\r\n                    border-bottom: 1px solid ${props => props.theme.colorPrimary};\r\n                    width: 85%;\r\n                    line-height: 2rem;\r\n                    transition: all .1s ease .2s;\r\n                    &:focus{\r\n                        outline: none;\r\n                        border-bottom: 1px solid ${props => props.theme.colorSecondaryDark};\r\n                    }\r\n                    &::placeholder{\r\n                        margin-bottom: 9rem;\r\n                        display: block;\r\n                        color: ${props => props.theme.colorPrimary};\r\n                        opacity: .6;\r\n                    }\r\n                }\r\n            }\r\n            &__amount{\r\n                display: flex;\r\n                margin-right: auto;\r\n                padding: 1rem 2rem;\r\n                justify-content: flex-start;\r\n                align-content: center;\r\n                vertical-align: middle;\r\n                span{\r\n                    align-self: center\r\n                }\r\n                &-price{\r\n                    font-size: ${props => props.theme.font.xlarge};\r\n                    border: 1px solid ${props => props.theme.colorSecondary};\r\n                    border-radius: 1rem;\r\n                    padding: 1rem 2rem;\r\n                    margin: 0 1rem;\r\n                }\r\n            }\r\n            &__actionButton{\r\n                padding: 1rem 4rem;\r\n                font-size: ${props => props.theme.font.xlarge};\r\n                border-radius: 1rem;\r\n                box-shadow: .2rem .4rem 10px rgba(0,0,0, .3),\r\n                -0.2rem -0.4rem 20px rgba(255,255,255, .3);\r\n                background: ${props => props.theme.colorSecondary};\r\n                color: ${props => props.theme.colorLight};\r\n                border: none;\r\n                margin: 1rem;\r\n\r\n                &:active{\r\n                    box-shadow: -0.2rem -0.4rem 20px rgba(255,255,255, .3),\r\n                        .2rem .4rem 10px rgba(0,0,0, .3);\r\n                    color: ${props => props.theme.colorPrimary};\r\n                }\r\n                &:focus{\r\n                    outline: none;\r\n                }\r\n            }\r\n        }\r\n    }\r\n`\r\nfunction UserVerify(props) {\r\n    const [image, setImage] = useState('');\r\n    const [image1, setImage1] = useState('');\r\n    const [image2, setImage2] = useState('');\r\n    // const [message, setMessage] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [didUpload, setDidUpload] = useState(false);\r\n    const [showpopUpMessage, setShowPopUpMessage] = useState(false)\r\n    const [popUpMessage, setPopUpMessage] = useState(null)\r\n    const [error, setError] = useState(false)\r\n\r\n    let handleChange = (e) => {\r\n        let files = e.target.files || e.dataTransfer.files;\r\n        if (!files.length)\r\n            return;\r\n        createImage(files[0], e.target.name);\r\n    }\r\n    let createImage = (file, name) => {\r\n        let reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            if (name === \"selfi\") {\r\n                setImage(e.target.result)\r\n            } else if (name === \"idCard\") {\r\n                setImage1(e.target.result)\r\n            } else {\r\n                setImage2(e.target.result)\r\n            }\r\n        };\r\n        reader.readAsDataURL(file);\r\n    }\r\n    let handleSubmit = async () => {\r\n        await setError(!true)\r\n        await setShowPopUpMessage(false)\r\n        await setIsLoading(true)\r\n\r\n        // console.log(image);\r\n        const auth_token = Storage.get(\"userInfo\").user.auth_token\r\n        const formData = new FormData()\r\n        formData.append(\"image\", image)\r\n        let data = {\r\n            id: Storage.get(\"userInfo\").user.id,\r\n            selfi: image,\r\n            address: image2,\r\n            idCard: image1\r\n        }\r\n        console.log(data);\r\n        Axios.post(`${routes.api.requestVerification}?token=${auth_token}`, data)\r\n            .then(res => {\r\n                // console.log(res);\r\n                if (res.data.status === \"success\") {\r\n                    // setMessage(\"Uploaded Successfully, Account will be reviewed and verified within three days\")\r\n                    setDidUpload(!didUpload)\r\n                    setPopUpMessage(\"Uploaded Successfully, Account will be reviewed and verified within three days\")\r\n                    setShowPopUpMessage(true)\r\n                    setIsLoading(false)\r\n                    \r\n                }\r\n                // setIsLoading(!isLoading);\r\n                setTimeout(() => {\r\n                    props.history.push(routes.admin.index)\r\n                }, 8000);\r\n\r\n            })\r\n            .catch(res => {\r\n                setPopUpMessage(\"An error occurred while uploading image. Try again or contact admin\")\r\n                setError(true)\r\n                setShowPopUpMessage(true)\r\n                setIsLoading(false)\r\n\r\n                // setMessage(\"An error occurred while uploading image. Try again or contact admin\")\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Container didUpload={didUpload}>\r\n            {showpopUpMessage ? <PopUpMessage error={error}> {popUpMessage} <span onClick={() => setShowPopUpMessage(false)}>✖</span> </PopUpMessage> : null}\r\n\r\n            <div className=\"rate\">\r\n                {/* <img src={rateImage} alt=\"rate\" /> */}\r\n\r\n                <div className=\"form\">\r\n                    <h2 className=\"form__title\"> Verify Your Account</h2>\r\n                    <p className=\"form__subTitle\">To be able to do some transactions you need to be verified</p>\r\n                    <div className=\"form__title-image\">\r\n                        <img src={giftCard} alt=\"Gift card\" className=\"form__title-image-icon\" />\r\n                    </div>\r\n                    {/* <p className=\"form__message\">\r\n                        {message}\r\n                    </p> */}\r\n                    <ul className=\"form__subTitle\">\r\n                        <li>\r\n                            Upload a selfie of you.\r\n                        </li>\r\n                        <li>\r\n                            Upload an image containing your address (electricity bill) etc.\r\n                        </li>\r\n                        <li>\r\n                            Upload an image containing a valid Id Card with your details.\r\n                        </li>\r\n                    </ul>\r\n                    <div className=\"form__input\">\r\n                        {/* {image} */}\r\n                        <input type=\"file\"\r\n                            alt=\"verify logo\"\r\n                            name=\"selfi\"\r\n                            onChange={e => handleChange(e)} className=\"form__input-item\" />\r\n\r\n                        <input type=\"file\"\r\n                            alt=\"verify logo\"\r\n                            onChange={e => handleChange(e)}\r\n                            name=\"idCard\" placeholder=\"Enter Value\" className=\"form__input-item\" />\r\n\r\n                        <input type=\"file\"\r\n                            alt=\"verify logo\"\r\n                            onChange={e => handleChange(e)}\r\n                            name=\"address\" placeholder=\"Enter Value\" className=\"form__input-item\" />\r\n                    </div>\r\n\r\n                    <p>\r\n                        <img src={image} height=\"40rem\" width=\"40rem\" alt=\"preview\" />\r\n                        <img src={image1} height=\"40rem\" width=\"40rem\" alt=\"preview\" />\r\n                        <img src={image2} height=\"40rem\" width=\"40rem\" alt=\"preview\" />\r\n                    </p>\r\n                    <button onClick={handleSubmit} className=\"form__actionButton\">\r\n                        {isLoading ? \"Loading...\" : \"Continue\"}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({ users }) => ({\r\n    user: users\r\n})\r\n\r\nexport default connect(mapStateToProps)(UserVerify)\r\n"],"sourceRoot":""}
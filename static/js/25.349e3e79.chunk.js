(this["webpackJsonpcoin-app"]=this["webpackJsonpcoin-app"]||[]).push([[25],{480:function(t,e,n){"use strict";n.r(e);var a=n(6),r=n(3),o=n(0),i=n.n(o),c=n(2),l=n(73),s=n(29),d=n(27),u=n.n(d),m=n(5),f=n(18),p=n(36);function h(){var t=Object(r.a)(["\n    grid-column: 2/-1;\n    display: grid;\n    min-height: 100%;\n    min-width: 100%;\n    align-items: flex-start;\n    background: ",";\n    border-radius: 2rem 0 0 2rem;\n    z-index: 30;\n    .rate{\n\t\tgrid-column: 1/-1;\n\t\tdisplay: grid;\n\t\twidth: 100%;\n\t\tpadding: 3rem;\n\t\t/* place-items: center; */\n\t\tjustify-items: center;\n\t\talign-items: space-around;\n\t\tjustify-self: flex-start;\n\t\tposition: relative;\n\t\t@media only screen and (max-width: ",") {\n\t\t\tpadding: 3rem 0;\n\t\t}\n\t\t\n      &__title{   \n        justify-self: flex-start;\n        font-weight: 500;\n        color: ",";\n        font-family: ProximaNovaSoftW03-Regular;\n        position: relative;\n\n        &::after{\n          content: '';\n          position: absolute;\n          width: 120%;\n          height: .4rem;\n          bottom: 0;\n          left: 0;\n          background: ",";\n        }\n      }\n\t  .orders{\n\t\tpadding: 1rem 1.5rem;\n\t\t&-text{\n\t\t\tdisplay: flex;\n\t\t\tpadding: 1rem 1.5rem;\n\t\t\tfont-size: ",";\n\t\t\tfont-weight: 500;\n\t\t\tjustify-content: space-around;\n\t\t\tcolor: ",";\n\t\t\t&__info{\n\t\t\t\tfont-size: ",";\n\t\t\t\tfont-weight: 300;\n\t\t\t\tcolor: ",";\n\t\t\t}\n\t\t\t&__tranction{\n\t\t\t\tpadding: 2rem 2.5rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\tfont-size: ",";\n\t\t\t\tfont-weight: 500;\n\t\t\t\tjustify-content: space-around;\n\t\t\t\tcolor: ",";\n\t\t\t\t&--item{\n\t\t\t\t\tfont-size: ",";\n\t\t\t\t\tfont-weight: 500;\n\t\t\t\t\talign-self: center ;\n\t\t\t\t\tcolor: ",";\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t  }\n\n    }\n    img{\n      /* height: 100%; */\n      width: 80%;        \n    }\n\n    \n"]);return h=function(){return t},t}var g=c.d.div(h(),(function(t){return t.theme.colorLight}),(function(t){return t.theme.breakPoints.bpSmall2}),(function(t){return t.theme.colorPrimary}),(function(t){return t.theme.colorPrimary}),(function(t){return t.theme.font.large}),(function(t){return t.theme.colorSecondary}),(function(t){return t.theme.font.large}),(function(t){return t.theme.colorDark}),(function(t){return t.theme.font.xxlarge}),(function(t){return t.theme.colorSecondary}),(function(t){return t.theme.font.medium}),(function(t){return t.theme.colorDark}));var v={fetchAllhistory:p.c};e.default=Object(s.b)((function(t){return{allHistory:t.history}}),v)((function(t){var e=t.allHistory,n=t.fetchAllhistory,r=Object(o.useState)(!1),c=Object(a.a)(r,2),s=c[0],d=c[1],p=Object(o.useState)(null),h=Object(a.a)(p,2),v=h[0],_=h[1],y=Object(o.useState)(!1),x=Object(a.a)(y,2),E=x[0],b=x[1],w=Object(o.useState)(!1),S=Object(a.a)(w,2),k=S[0],O=S[1];Object(o.useEffect)((function(){var t,e,a=null===(t=JSON.parse(localStorage.getItem("userInfo")))||void 0===t||null===(e=t.user)||void 0===e?void 0:e.auth_token;u.a.get("".concat(m.a.api.adminGetOrders,"?token=").concat(a)).then((function(t){return n(t.data.data),t.data})).then((function(t){d(!0)})).catch((function(t){console.log(t)}))}),[n]);var j=[{Header:function(){return null},id:"expander",Cell:function(t){var e=t.row;return i.a.createElement("span",e.getToggleRowExpandedProps(),e.isExpanded?"Close":"More ")}},{Header:"Buy and Sell Orders",columns:[{Header:"Amount",accessor:"amount"},{Header:"Email",accessor:function(t){var e;return i.a.createElement("span",null,(null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.email)||"none")}},{Header:"Type",accessor:"type"},{Header:"Status",accessor:"status"},{Header:"Transaction Id",accessor:"reference_id"}]},{Header:function(){return null},id:"action",Cell:function(t){var e=t.row;return i.a.createElement("div",{className:"options_btn"},i.a.createElement(f.t,{onClick:function(t){return C(e.original.id)}},"Confirm"),i.a.createElement(f.t,{onClick:function(t){return N(e.original.id)}},"Delete"))}}],N=function(t){var e=JSON.parse(localStorage.getItem("userInfo")).user.auth_token;u.a.post("".concat(m.a.api.adminDestroyOrder,"?token=").concat(e),{id:t,action:"delete"}).then((function(t){return b(!1),"success"===t.data.status&&_(t.data.data[0]),t.data.data[1]})).then((function(t){b(!0),n(t)})).catch((function(t){_(t.data.data),b(!0)}))},C=function(t){var e=JSON.parse(localStorage.getItem("userInfo")).user.auth_token,a={id:t};console.log(a),u.a.post("".concat(m.a.api.adminConfirmTransaction,"?token=").concat(e),a).then((function(t){return b(!1),"success"===t.data.status?(O(!1),_(t.data.data[0])):(_(t.data.data),O(!0)),t.data.data[1]})).then((function(t){b(!0),n(t)}))};return i.a.createElement(g,{color:""},i.a.createElement("div",{className:"rate"},E?i.a.createElement(f.o,{error:k}," ",v," ",i.a.createElement("span",{onClick:function(){return b(!1)}},"\u2716")," "):null,s?i.a.createElement(l.a,{data:e.history||[],expandedComponent:function(t){var e,n,a,r=t.original;return i.a.createElement("div",{style:{fontSize:"10px",width:"100%",display:"grid",gridTemplateColumns:"1fr ",overflow:"hidden"},className:"orders"},i.a.createElement("p",{className:"orders-text"},null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.first_name,i.a.createElement("span",{className:"orders-text__info"},null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n.phone_no),i.a.createElement("span",{className:"orders-text__info"},null===r||void 0===r||null===(a=r.user)||void 0===a?void 0:a.email)),i.a.createElement("p",{className:"orders-text__tranction"},null===r||void 0===r?void 0:r.amount,i.a.createElement("span",{className:"orders-text__tranction--item"},null===r||void 0===r?void 0:r.type),i.a.createElement("span",{className:"orders-text__tranction--item"},null===r||void 0===r?void 0:r.status),i.a.createElement("span",{className:"orders-text__tranction--item"},null===r||void 0===r?void 0:r.reference_id),i.a.createElement("span",{className:"orders-text__tranction--item"},new Date(null===r||void 0===r?void 0:r.created_at).toDateString()),i.a.createElement("span",{className:"orders-text__tranction--item"},(null===r||void 0===r?void 0:r.image)?i.a.createElement("a",{href:m.a.api.getImage+"".concat(null===r||void 0===r?void 0:r.image)}," View image "):null)))},handleVerifyClick:C,tableColumns:j}):null))}))}}]);
//# sourceMappingURL=25.349e3e79.chunk.js.map